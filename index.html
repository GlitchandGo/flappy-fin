<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Flappy Fin</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      background: #111;
      cursor: pointer;
    }

    #fin {
      position: absolute;
      width: 40px;
      left: 50%;
      transform: translateX(-50%);
    }

    .pipe {
      position: absolute;
      width: 80px;
      background: #0f0;
      border-radius: 40px;
    }
  </style>
</head>
<body>
  <img id="fin" src="fin.jpg" alt="Fin" />
  <audio id="fartSound" src="fart.mp3"></audio>

  <script>
    const fin = document.getElementById('fin');
    const fartSound = document.getElementById('fartSound');

    let finY = window.innerHeight / 2;
    let velocity = 0;
    const gravity = 0.4;
    const flapStrength = -7;

    function updateFin() {
      velocity += gravity;
      finY += velocity;

      // Clamp to screen bounds
      if (finY < 0) {
        finY = 0;
        velocity = 0;
      }
      if (finY > window.innerHeight - 40) {
        finY = window.innerHeight - 40;
        velocity = 0;
      }

      fin.style.top = `${finY}px`;
      requestAnimationFrame(updateFin);
    }

    document.addEventListener('click', () => {
      velocity = flapStrength;
      fartSound.currentTime = 0;
      fartSound.play();
    });

    // Pipe generator
    function spawnPipe() {
      const gap = 120;
      const topHeight = Math.floor(Math.random() * (window.innerHeight - gap - 100)) + 50;
      const bottomHeight = window.innerHeight - topHeight - gap;

      const topPipe = document.createElement('div');
      topPipe.className = 'pipe';
      topPipe.style.height = `${topHeight}px`;
      topPipe.style.top = `0px`;
      topPipe.style.left = `${window.innerWidth}px`;

      const bottomPipe = document.createElement('div');
      bottomPipe.className = 'pipe';
      bottomPipe.style.height = `${bottomHeight}px`;
      bottomPipe.style.bottom = `0px`;
      bottomPipe.style.left = `${window.innerWidth}px`;

      document.body.appendChild(topPipe);
      document.body.appendChild(bottomPipe);

      let pipeX = window.innerWidth;
      function movePipe() {
        pipeX -= 2;
        topPipe.style.left = `${pipeX}px`;
        bottomPipe.style.left = `${pipeX}px`;

        if (pipeX + 80 < 0) {
          topPipe.remove();
          bottomPipe.remove();
        } else {
          requestAnimationFrame(movePipe);
        }
      }

   
   movePipe();
    }

    setInterval(spawnPipe, 2000);
    updateFin();
  </script>
</body>
</html>
